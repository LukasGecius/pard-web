<div class="content-section cart-grid">
    <!-- ALWAYS HAS A SUMMARY -->
    <nb-card fullWidth class="summary">
        <nb-card-header>
            <h5>{{ "SUMMARY" | translate }}</h5>
        </nb-card-header>
        <nb-card-body class="summary__body">
            <p *ngFor="let item of cartItems | keyvalue">
                {{ item.value.item?.title }}: <strong>{{ item.value.item?.price | currency }}</strong> (x{{ item.value.quantity }})
            </p>

            <h5>
                {{ "TOTAL" | translate }}: <strong>{{ totalAmount | currency }}</strong>
            </h5>

            <button
                *ngIf="view === globalRoutes.CART_LISTINGS_PAGE_ROOT"
                [routerLink]="'/' + globalRoutes.CART_PAGE_ROOT + '/' + globalRoutes.CART_CHECKOUT_PAGE_ROOT"
                nbButton
                outline
                status="info"
                fullWidth
            >
                {{ "CHECKOUT" | translate }}
            </button>
            <button
                *ngIf="view === globalRoutes.CART_CHECKOUT_PAGE_ROOT"
                [routerLink]="'/' + globalRoutes.CART_PAGE_ROOT"
                nbButton
                outline
                status="warning"
                fullWidth
            >
                {{ "BACK_TO_CART" | translate }}
            </button>
        </nb-card-body>
    </nb-card>

    <nb-card fullWidth class="items">
        <nb-card-header>
            <h1>{{ "YOUR_CART" | translate }} {{ view }}</h1>
        </nb-card-header>

        <nb-card-body *ngIf="view === globalRoutes.CART_LISTINGS_PAGE_ROOT">
            <app-cart-listing-card *ngFor="let item of cartItems | keyvalue" [cartItem]="item"></app-cart-listing-card>
        </nb-card-body>
        <nb-card-body *ngIf="view === globalRoutes.CART_CHECKOUT_PAGE_ROOT">
            <app-cart-checkout></app-cart-checkout>
        </nb-card-body>
    </nb-card>
</div>
